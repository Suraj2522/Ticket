<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.3/angular.min.js"></script>
    <script src="~/PageScript/TicketList.js"></script>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>::Ticket::</title>
    <!-- plugins:css -->
        <link rel="stylesheet" href="~/assets1/vendors/feather/feather.css">
        <link rel="stylesheet" href="~/assets1/vendors/ti-icons/css/themify-icons.css">
        <link rel="stylesheet" href="~/assets1/vendors/css/vendor.bundle.base.css">
        <link rel="stylesheet" href="~/assets1/vendors/font-awesome/css/font-awesome.min.css">
        <link rel="stylesheet" href="~/assets1/vendors/mdi/css/materialdesignicons.min.css">
    <!-- endinject -->
    <!-- Plugin css for this page -->
    <!-- <link rel="stylesheet" href="~/assets/vendors/datatables.net-bs4/dataTables.bootstrap4.css"> -->
    <link rel="stylesheet" href="~/assets1/vendors/datatables.net-bs5/dataTables.bootstrap5.css">
    <link rel="stylesheet" href="~/assets1/vendors/ti-icons/css/themify-icons.css">
    <link rel="stylesheet" type="text/css" href="~/assets/js/select.dataTables.min.css">
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <link rel="stylesheet" href="~/assets1/css/style.css">
    <!-- endinject -->
    <!--<link rel="shortcut icon" href="~/assets/images/favicon.png" />-->
    <style>
        .raiseQueryFor, .EscalateFor {
            display: none;
        }
        .navbar {
           
        }

    </style>
</head>
<body>
    <div class="container-scroller" ng-app="MyApp" ng-controller="TicketSystemController">
        @*<button type="button" class="btn btn-outline-danger btn-fw btn-sm" style="float:right;" ng-click="logout()"><i class="ti-share-alt" n></i> Logout</button>*@

        <nav class="navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row">
            <div class="text-center navbar-brand-wrapper d-flex align-items-center justify-content-start">
                <a class="navbar-brand brand-logo me-5">TICKET</a> @*<img src="~/assets1/images/logo.svg" class="me-2" alt="logo" />*@
                <a class="navbar-brand brand-logo-mini"><img src="~/assets1/images/logo-mini.svg" alt="logo" /></a>
            </div>
            <div class="navbar-menu-wrapper d-flex align-items-center justify-content-end">
                @*<ul class="navbar-nav mr-lg-2">
                    <li class="nav-item nav-search d-none d-lg-block">
                        <div class="input-group">
                            <div class="input-group-prepend hover-cursor" id="navbar-search-icon">
                                <span class="input-group-text" id="search">
                                    <i class="icon-search"></i>
                                </span>
                            </div>
                            <input type="text" class="form-control" id="navbar-search-input" placeholder="Search now" aria-label="search" aria-describedby="search">
                        </div>
                    </li>
                </ul>*@
                <ul class="navbar-nav navbar-nav-right">
                    @*<li class="nav-item dropdown">
                        <a class="nav-link count-indicator dropdown-toggle" id="notificationDropdown" href="#" data-bs-toggle="dropdown">
                            <i class="icon-bell mx-0"></i>
                            <span class="count"></span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right navbar-dropdown preview-list" aria-labelledby="notificationDropdown">
                            <p class="mb-0 font-weight-normal float-left dropdown-header">Notifications</p>
                            <a class="dropdown-item preview-item">
                                <div class="preview-thumbnail">
                                    <div class="preview-icon bg-info">
                                        <i class="ti-receipt mx-0"></i>
                                    </div>
                                </div>
                                <div class="preview-item-content">
                                    <h6 class="preview-subject font-weight-normal">New Ticket</h6>
                                    <p class="font-weight-light small-text mb-0 text-muted"> Just now </p>
                                </div>
                            </a>
                            <a class="dropdown-item preview-item">
                                <div class="preview-thumbnail">
                                    <div class="preview-icon bg-danger">
                                        <i class="ti-info-alt mx-0"></i>
                                    </div>
                                </div>
                                <div class="preview-item-content">
                                    <h6 class="preview-subject font-weight-normal">Pendind Ticket</h6>
                                    <p class="font-weight-light small-text mb-0 text-muted"> 2 days ago </p>
                                </div>
                            </a>
                        </div>
                    </li>*@
                    <li class="nav-item nav-profile dropdown">
                        @*<a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown" id="profileDropdown">
                            <img src="~/assets1/images/faces/face28.jpg" alt="profile" />
                        </a>*@
                        <button type="button" class="btn btn-outline-danger btn-fw btn-sm" style="float:right;" ng-click="logout()"> Logout</button>

                        @*<i class="ti-control-backward">
                                    <
                                    <div class="dropdown-menu dropdown-menu-right navbar-dropdown" aria-labelledby="profileDropdown">
                                        <a class="dropdown-item">
                                            <i class="ti-settings text-primary"></i> Settings
                                        </a>
                                        <a class="dropdown-item">
                                            <i class="ti-power-off text-primary"></i> Logout
                                        </a>
                                    </div>
                        </li>*@
                </ul>
            </div>
        </nav>
        @*<div class="container-fluid page-body-wrapper">*@
        <div class="main-panel">
            <div class="content-wrapper">
                <!------------------------table------------------->
                <div class="col-lg-12 grid-margin stretch-card">
                    <div class="card">
                        <div class="card-body">
                            <div class="col-md-12">
                                <div class="row">
                                    <div class="col-md-9">
                                        <h4 class="card-title">List of Ticket</h4>
                                    </div>
                                    <!--<p class="card-description"> Add class <code>.table-hover</code></p>-->
                                    <div class="col-md-3">
                                        <a href="index">
                                            <button type="button" class="btn btn-outline-primary btn-fw btn-sm" style="float:right;"><i class="ti-control-backward"></i> Back</button>
                                        </a>

                                        <button type="button" class="btn btn-outline-danger btn-fw btn-sm" style="float:left;" data-bs-toggle="modal" ng-show="IsbtnRaiseTicketVisible" ng-click="AddTicket()"><i class="ti-receipt"></i> Raise New Ticket</button>
                                    </div>
                                </div>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>Ticket No</th>
                                            <th>Name</th>
                                            <th>Ticket Type</th>
                                            <th>Subject</th>
                                            <th>Issue	</th>
                                            <th>Status</th>
                                            <th>Date</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="x in TicketList">
                                            <td>
                                                {{x.TicketID}}
                                            </td>
                                            <td>
                                                {{x.UserName}}
                                            </td>
                                            <td>
                                                {{x.QueryType}}
                                            </td>
                                            <td>
                                                {{x.Subject}}
                                            </td>
                                            <td>
                                                {{x.Description}}
                                            </td>
                                            <td>
                                                {{x.Status}}
                                            </td>
                                            <td>
                                                {{x.Date}}
                                            </td>
                                            <td>
                                                <a class="btn btn-outline-primary btn-fw btn-sm" href="" ng-click="ViewTicketDetails(x.TicketID)">
                                                    <i class="fa fa-eye ipr" aria-hidden="true"></i>View
                                                </a>
                                                @*<span ng-if="x.UnSeenMsgCount > 0 " class="message_container"> <span class="message_cnt">{{x.UnSeenMsgCount}}</span> <img class="message_count" ng-src="~/Images/faces/UnSeenMsgCount.png"></span>*@
                                                <button type="button" ng-if="x.UnSeenMsgCount > 0 " class="btn btn-outline-warning btn-fw btn-sm"><i class="ti-comment-alt"></i> {{x.UnSeenMsgCount}} </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <!--------------------//table--------------------->
                <!---------------------------------popup--------------->
                <div class="modal" id="myModalRaiseTicket">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <!-- Modal Header -->
                            <div class="modal-header" style="background: aliceblue;">
                                <h4 class="modal-title">Raise Ticket</h4>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                            </div>
                            <!-- Modal body -->
                            <div class="modal-body">
                                <!------------body------->
                                <div class="col-md-12 stretch-card">
                                    <div class="card">
                                        <div class="card-body">
                                            <div class="form-group">
                                                @*<label for=""><b>Ticket For <span style="color:red;">*</span></b></label>
                                                <select class="form-select form-select-sm" id="">
                                                    <option>xxxxx</option>
                                                    <option>xxxxx</option>
                                                    <option>xxxxx</option>
                                                </select>*@
                                                <div class="mt-3 text-center">
                                                    <label class="form-check-label">
                                                        <input type="radio" class="clsRadiobtn" ng-model="TicketSystem.QueryType" #option1Ref name="radQueryType" value="Query" onclick="toggleVisibility('RaiseQuery')"> Query
                                                    </label>

                                                    <label class="form-check-label">
                                                        <input type="radio" class="clsRadiobtn" ng-model="TicketSystem.QueryType" #option2Ref name="radQueryType" value="Escalation" onclick="toggleVisibility('Escalate')"> Escalation
                                                    </label>
                                                </div>
                                                <hr />
                                                <div class="mt-3 text-center raiseQueryFor">
                                                    <form>
                                                        <label class="form-check-label">
                                                            <input type="radio" class="clsRadiobtn" ng-model="TicketSystem.IsRaiseQueryFor" #option2Ref name="IsRaiseQueryFor" value="Appointment related query"> Appointment related query
                                                        </label>
                                                        <label class="form-check-label">
                                                            <input type="radio" class="clsRadiobtn" ng-model="TicketSystem.IsRaiseQueryFor" #option2Ref name="IsRaiseQueryFor" value="Portal/Technical related query"> Portal/Technical related query
                                                        </label>
                                                        <label class="form-check-label">
                                                            <input type="radio" class="clsRadiobtn" ng-model="TicketSystem.IsRaiseQueryFor" #option2Ref name="IsRaiseQueryFor" value="Payment related query"> Payment related query
                                                        </label>
                                                        <label class="form-check-label">
                                                            <input type="radio" class="clsRadiobtn" ng-model="TicketSystem.IsRaiseQueryFor" #option2Ref name="IsRaiseQueryFor" value="Center related query"> Center related query
                                                        </label>
                                                        <label class="form-check-label">
                                                            <input type="radio" class="clsRadiobtn" ng-model="TicketSystem.IsRaiseQueryFor" #option2Ref name="IsRaiseQueryFor" value="Report related query"> Report related query
                                                        </label>
                                                        <label class="form-check-label">
                                                            <input type="radio" class="clsRadiobtn" ng-model="TicketSystem.IsRaiseQueryFor" #option2Ref name="IsRaiseQueryFor" value="Pharmacy related query"> Pharmacy related query
                                                        </label>
                                                        <label class="form-check-label">
                                                            <input type="radio" class="clsRadiobtn" ng-model="TicketSystem.IsRaiseQueryFor" #option2Ref name="IsRaiseQueryFor" value="Ambulance"> Ambulance
                                                        </label>
                                                        <label class="form-check-label">
                                                            <input type="radio" class="clsRadiobtn" ng-model="TicketSystem.IsRaiseQueryFor" #option2Ref name="IsRaiseQueryFor" value="Home Healthcare"> Home Healthcare
                                                        </label>
                                                        <label class="form-check-label">
                                                            <input type="radio" class="clsRadiobtn" ng-model="TicketSystem.IsRaiseQueryFor" #option2Ref name="IsRaiseQueryFor" value="Others"> Others
                                                        </label>

                                                    </form>
                                                    <div class="form-group">
                                                        <label for="exampleTextarea1"><b>Add Description <span style="color:red;">*</span></b></label>
                                                        <textarea class="form-control" id="exampleTextarea1" ng-model="TicketSystem.Description" rows="4" style="margin:0 auto;"></textarea>

                                                    </div>
                                                </div>
                                                <div class="mt-3 text-center EscalateFor">
                                                    <form>
                                                        <label class="form-check-label">
                                                            <input type="radio" class="clsRadiobtn" ng-model="TicketSystem.EscalateFor" #option2Ref name="EscalateFor" value="Center related escalation"> Center related escalation
                                                        </label>
                                                        <label class="form-check-label">
                                                            <input type="radio" class="clsRadiobtn" ng-model="TicketSystem.EscalateFor" #option2Ref name="EscalateFor" value="HQ related escalation"> HQ related escalation
                                                        </label>
                                                        <label class="form-check-label">
                                                            <input type="radio" class="clsRadiobtn" ng-model="TicketSystem.EscalateFor" #option2Ref name="EscalateFor" value="Report upload related escalation"> Report related escalation
                                                        </label>
                                                        <label class="form-check-label">
                                                            <input type="radio" class="clsRadiobtn" ng-model="TicketSystem.EscalateFor" #option2Ref name="EscalateFor" value="Others"> Others
                                                        </label>
                                                        <!---<button type="reset" class="submit_Ticket btn btn-primary" ng-click="SaveTicket();">Submit</button>-->

                                                    </form>
                                                    <div class="form-group">
                                                        <label for="exampleTextarea1"><b>Add Description <span style="color:red;">*</span></b></label>
                                                        <textarea class="form-control" id="exampleTextarea1" ng-model="TicketSystem.Description" rows="4" style="margin:0 auto;"></textarea>

                                                    </div>

                                                </div>



                                                <!--<button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>-->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Modal footer -->
                            <div class="modal-footer align-items-center justify-content-center">
                                <button type="reset" class="btn btn-outline-warning btn-fw btn-sm" ng-click="SaveTicket();" style="">Submit</button>
                                @*<button type="button" class="btn btn-outline-primary btn-fw btn-sm" data-bs-dismiss="modal">Close</button>*@
                                @*<button type="reset" class="submit_Ticket btn btn-primary" ng-click="SaveTicket();">Submit</button>*@
                            </div>
                        </div>
                    </div>
                </div>
                <!--------------------------------popup------------------->
            </div>
        </div>
        @*</div>*@
        <!-- container-scroller -->
        <!-- plugins:js -->
        <script src="~/assets1/vendors/js/vendor.bundle.base.js"></script>
        <!-- endinject -->
        <!-- Plugin js for this page -->
        <script src="~/assets1/vendors/chart.js/chart.umd.js"></script>
        <script src="~/assets1/vendors/datatables.net/jquery.dataTables.js"></script>
        <!-- <script src="assets/vendors/datatables.net-bs4/dataTables.bootstrap4.js"></script> -->
        <script src="~/assets1/vendors/datatables.net-bs5/dataTables.bootstrap5.js"></script>
        <script src="~/assets1/js/dataTables.select.min.js"></script>
        <!-- End plugin js for this page -->
        <!-- inject:js -->
        <script src="~/assets1/js/off-canvas.js"></script>
        <script src="~/assets1/js/template.js"></script>
        <script src="~/assets1/js/settings.js"></script>
        <script src="~/assets1/js/todolist.js"></script>
        <!-- endinject -->
        <!-- Custom js for this page-->
        <script src="~/assets1/js/jquery.cookie.js" type="text/javascript"></script>
        <script src="~/assets1/js/dashboard.js"></script>
        <!-- <script src="assets/js/Chart.roundedBarCharts.js"></script> -->
        <!-- End custom js for this page-->


        <script>
            function toggleVisibility(action) {

                if (action === 'RaiseQuery') {
                    $(".raiseQueryFor").show();
                    $(".EscalateFor").hide();
                } else if (action === 'Escalate') {
                    $(".EscalateFor").show();
                    $(".raiseQueryFor").hide();
                }

            }
        </script>

    </div>
</body>

</html>